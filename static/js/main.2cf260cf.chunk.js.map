{"version":3,"sources":["app/hooks.ts","slices/expensesSlice.ts","slices/wagesSlice.ts","utilities/csv-utils.ts","components/DatePickerWrapper.tsx","components/DataRow.tsx","components/Table.tsx","slices/chartSlice.ts","utilities/date-utils.ts","utilities/chart-utils.ts","components/DataChart.tsx","App.tsx","app/store.ts","serviceWorker.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","expensesSlice","createSlice","name","initialState","reducers","addExpense","state","action","id","uuid","payload","defaultExpense","label","date","Date","now","amount","frequency","bulkAddExpenses","forEach","expense","updateExpense","orig","update","undefined","removeExpense","actions","selectExpenses","expenses","wageSlice","addWage","defaultWage","bulkAddWages","wage","updateWage","removeWage","selectWages","wages","convertCSVRowIntoDataRow","csvRow","parseInt","parseFloat","freqency","isNaN","DatePickerWrapper","props","LocalizationProvider","dateAdapter","AdapterDateFns","MobileDatePicker","inputFormat","value","onChange","getTime","renderInput","params","TextField","DataRow","TableRow","TableCell","className","variant","data","e","updateRow","target","type","isExpensesRow","FormControl","fullWidth","Select","MenuItem","onClick","deleteRow","DataTable","style","textAlign","title","addRow","maxHeight","maxWidth","display","margin","overflowX","stickyHeader","TableHead","TableBody","Object","entries","map","entry","row","isExpensesTable","accept","files","file","reader","FileReader","onload","evt","bstr","result","rows","parse","toString","dataRows","i","length","dataRow","push","onImportComplete","readAsBinaryString","Button","filename","csvContent","csvRows","unshift","convertDataRowIntoCSVRows","values","join","link","document","createElement","setAttribute","click","remove","defaultEndDate","setDate","getDate","finances","aggregateOption","startTimeMs","endTimeMs","chartSlice","setChartData","setAgggregateOption","setStartTimeMs","setEndTimeMs","selectChartExpenses","chart","selectChartWages","selectChartFinances","selectChartAgggregateOption","selectChartStartTimeMs","selectChartEndTimeMs","createDateFromKey","key","retVal","createdDate","year","Number","setFullYear","getMonthInMMFormat","month","actualMonth","generateRecurringChartData","startDateMs","endDateMs","timeMs","incrementDate","d","setMonth","getMonth","getFullYear","aggregateChartDataByFrequency","Map","val","createKeyByAggregateOptionAndDate","get","sum","set","Chart","register","Legend","LineController","LineElement","PointElement","LinearScale","TimeScale","Title","Tooltip","chartConfig","datasets","fill","backgroundColor","borderColor","options","responsive","plugins","legend","position","text","scales","x","distribution","y","DataChart","dispatch","chartContainer","useRef","chartInstance","expensesData","wagesData","useEffect","current","destroy","finanacesPoints","point","wagesPoints","expensesPoints","chartData","allExpensesChartData","allWagesChartData","aggregatedExpensesMap","aggregatedWagesMap","expensesChartPoints","wagesChartPoints","sort","a","b","aggregatedFinancesMap","financesChartPoints","convertDataRowsIntoChartData","InputLabel","labelId","event","option","ref","App","handleChartDateChange","newDate","minWidth","wagesTimeArr","minTime","Math","min","maxTime","max","expensesTimeArr","store","configureStore","reducer","expensesReducer","wagesReducer","chartReducer","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"+OAIaA,EAAiB,kBAAMC,eACvBC,EAAkDC,I,gBCMlDC,EAAgBC,YAAY,CACvCC,KAAM,WACNC,aAJkC,GAMlCC,SAAU,CACRC,WAAY,SAACC,EAAOC,GAClB,IAAMC,EAAKC,iBACX,GAAIF,EAAOG,QACTJ,EAAME,GAAMD,EAAOG,YACd,CACL,IAAMC,EAA0B,CAC9BC,MAAO,GACPC,KAAMC,KAAKC,MACXC,OAAQ,EACRC,UAAW,QAEbX,EAAME,GAAMG,IAGhBO,gBAAiB,SAACZ,EAAOC,GACvBA,EAAOG,QAAQS,SAAQ,SAACC,GACtB,IAAMZ,EAAKC,iBACXH,EAAME,GAAMY,MAGhBC,cAAe,SACbf,EACAC,GAEA,IAAMe,EAAOhB,EAAMC,EAAOG,QAAQF,IAC5Be,EAAShB,EAAOG,QAAQU,aAERI,IAAlBD,EAAOP,SAAsBM,EAAKN,OAASO,EAAOP,aAClCQ,IAAhBD,EAAOV,OAAoBS,EAAKT,KAAOU,EAAOV,WACzBW,IAArBD,EAAON,YAAyBK,EAAKL,UAAYM,EAAON,gBACvCO,IAAjBD,EAAOX,QAAqBU,EAAKV,MAAQW,EAAOX,QAEtDa,cAAe,SAACnB,EAAOC,UACdD,EAAMC,EAAOG,QAAQF,QAK3B,EACLR,EAAc0B,QADDrB,EAAR,EAAQA,WAAYa,EAApB,EAAoBA,gBAAiBG,EAArC,EAAqCA,cAAeI,EAApD,EAAoDA,cAG9CE,EAAiB,SAACrB,GAAD,OAAsBA,EAAMsB,UAE3C5B,IAAf,QChDa6B,EAAY5B,YAAY,CACnCC,KAAM,OACNC,aAJ+B,GAM/BC,SAAU,CACR0B,QAAS,SAACxB,EAAOC,GACf,IAAMC,EAAKC,iBACX,GAAIF,EAAOG,QACTJ,EAAME,GAAMD,EAAOG,YACd,CACL,IAAMqB,EAAoB,CACxBnB,MAAO,GACPC,KAAMC,KAAKC,MACXC,OAAQ,EACRC,UAAW,QAEbX,EAAME,GAAMuB,IAGhBC,aAAc,SAAC1B,EAAOC,GACpBA,EAAOG,QAAQS,SAAQ,SAACc,GACtB,IAAMzB,EAAKC,iBACXH,EAAME,GAAMyB,MAGhBC,WAAY,SACV5B,EACAC,GAEA,IAAMe,EAAOhB,EAAMC,EAAOG,QAAQF,IAC5Be,EAAShB,EAAOG,QAAQuB,UAERT,IAAlBD,EAAOP,SAAsBM,EAAKN,OAASO,EAAOP,aAClCQ,IAAhBD,EAAOV,OAAoBS,EAAKT,KAAOU,EAAOV,WACzBW,IAArBD,EAAON,YAAyBK,EAAKL,UAAYM,EAAON,gBACvCO,IAAjBD,EAAOX,QAAqBU,EAAKV,MAAQW,EAAOX,QAEtDuB,WAAY,SAAC7B,EAAOC,UACXD,EAAMC,EAAOG,QAAQF,QAK3B,EACLqB,EAAUH,QADGI,EAAR,EAAQA,QAASE,EAAjB,EAAiBA,aAAcE,EAA/B,EAA+BA,WAAYC,EAA3C,EAA2CA,WAGrCC,EAAc,SAAC9B,GAAD,OAAsBA,EAAM+B,OAExCR,IAAf,Q,OCpCO,SAASS,EAAyBC,GACvC,IAAM3B,EAAQ2B,EAAO,GACf1B,EAAe2B,SAASD,EAAO,IAC/BvB,EAAiByB,WAAWF,EAAO,IACnCG,EAAWH,EAAO,GAOxB,MANyB,CACvB3B,MAAOA,EACPC,KAAO8B,MAAM9B,IAAgB,EAARA,EACrBG,OAAS2B,MAAM3B,IAAoB,EAAVA,EACzBC,UAAWyB,G,uDCtBR,SAASE,EAAkBC,GAQ9B,OAAO,cAACC,EAAA,EAAD,CAAsBC,YAAaC,IAAnC,SACH,cAACC,EAAA,EAAD,CACIrC,MAAOiC,EAAMjC,MACbsC,YAAY,aACZC,MAAON,EAAMM,MACbC,SAXR,SAAsBvC,GACdA,GACAgC,EAAMO,SAASvC,EAAKwC,YAUpBC,YAAa,SAACC,GAAD,OAAY,cAACC,EAAA,EAAD,eAAeD,S,mECN7C,SAASE,EAAQZ,GACpB,OAAO,eAACa,EAAA,EAAD,WACH,cAACC,EAAA,EAAD,CAAWC,UAAU,aAArB,SAAkC,cAACJ,EAAA,EAAD,CAAWK,QAAQ,WAAWV,MAAON,EAAMiB,KAAKlD,MAAOwC,SAAU,SAACW,GAAD,OAAOlB,EAAMmB,UAAUnB,EAAMpC,KAAM,CAAEG,MAAOmD,EAAEE,OAAOd,aACxJ,cAACQ,EAAA,EAAD,CAAWC,UAAU,aAArB,SACI,cAAChB,EAAD,CAAmBO,MAAON,EAAMiB,KAAKjD,KAAMuC,SAAU,SAACvC,GAAD,OAAkBgC,EAAMmB,UAAUnB,EAAMpC,KAAM,CAAEI,KAAMA,SAE/G,cAAC8C,EAAA,EAAD,UACI,cAACH,EAAA,EAAD,CAAWU,KAAK,SAASL,QAAQ,WAAWV,MAAON,EAAMsB,eAAiB,EAAItB,EAAMiB,KAAK9C,OAAU6B,EAAMiB,KAAK9C,OAAQoC,SAAU,SAACW,GAC7H,IAAM/C,EAASyB,WAAWsB,EAAEE,OAAOd,OAC/BnC,GAAQ6B,EAAMmB,UAAUnB,EAAMpC,KAAM,CAAEO,OAAQ6B,EAAMsB,eAAiB,EAAInD,EAAUA,SAG/F,cAAC2C,EAAA,EAAD,UACI,cAACS,EAAA,EAAD,CAAaC,WAAS,EAAtB,SACI,eAACC,EAAA,EAAD,CACInB,MAAON,EAAMiB,KAAK7C,UAClBmC,SAAU,SAACW,GAAD,OAAOlB,EAAMmB,UAAUnB,EAAMpC,KAAM,CAAEQ,UAAW8C,EAAEE,OAAOd,SAFvE,UAII,cAACoB,EAAA,EAAD,CAAUpB,MAAM,OAAhB,kBACA,cAACoB,EAAA,EAAD,CAAUpB,MAAM,QAAhB,mBACA,cAACoB,EAAA,EAAD,CAAUpB,MAAM,SAAhB,oBACA,cAACoB,EAAA,EAAD,CAAUpB,MAAM,UAAhB,qBACA,cAACoB,EAAA,EAAD,CAAUpB,MAAM,SAAhB,2BAIZ,cAACQ,EAAA,EAAD,CAAWa,QAAS,kBAAM3B,EAAM4B,UAAU5B,EAAMpC,OAAhD,SAAuD,cAAC,IAAD,S,mECjBxD,SAASiE,EAAU7B,GAsCtB,OAAO,gCACH,qBAAK8B,MAAO,CAAEC,UAAW,UAAzB,SAAqC,+BAAK/B,EAAMgC,MAAX,IAAkB,cAAC,IAAD,CAAsBL,QArCjF,WACI3B,EAAMiC,iBAqCN,qBAAKH,MAAO,CAAEI,UAAW,IAAKC,SAAU,IAAMC,QAAQ,QAASC,OAAO,SAAUC,UAAW,QAA3F,SACI,eAAC,IAAD,CAAOC,cAAY,EAAnB,UACI,cAACC,EAAA,EAAD,UACI,eAAC3B,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAWC,UAAU,aAArB,oBACA,cAACD,EAAA,EAAD,CAAWC,UAAU,aAArB,kBACA,cAACD,EAAA,EAAD,qBACA,cAACA,EAAA,EAAD,wBACA,cAACA,EAAA,EAAD,qBAGR,cAAC2B,EAAA,EAAD,UACKC,OAAOC,QAAQ3C,EAAMiB,MAAM2B,KAAI,SAACC,GAC7B,IAAMjF,EAAOiF,EAAM,GACbC,EAAMD,EAAM,GAClB,OAAO,cAACjC,EAAD,CAAoBhD,KAAMA,EAAMqD,KAAM6B,EAAKxB,cAAetB,EAAM+C,gBAAiBd,OAAQjC,EAAMiC,OAAQd,UAAWnB,EAAMmB,UAAWS,UAAW5B,EAAM4B,WAAtIhE,aAKrC,uBAAOyD,KAAK,OAAO2B,OAAO,OAAOzC,SAvDrC,SAAsBW,GAClB,GAAIA,EAAEE,OAAO6B,MAAO,CAChB,IAAMC,EAAOhC,EAAEE,OAAO6B,MAAM,GACtBE,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACC,GAAS,IAAD,EAEfC,EAAI,UAAGD,EAAIlC,cAAP,aAAG,EAAYoC,OACzB,GAAID,EAAM,CAGN,IAFA,IAAME,EAAOC,gBAAMH,EAAKI,YAClBC,EAAuB,GACpBC,EAAI,EAAGA,EAAIJ,EAAKxC,KAAK6C,OAAQD,IAAK,CACvC,IACME,EAAUtE,EADJgE,EAAKxC,KAAK4C,IAEtBD,EAASI,KAAKD,GAElB/D,EAAMiE,iBAAiBL,KAG/BT,EAAOe,mBAAmBhB,OAsC9B,cAACiB,EAAA,EAAD,CAAQxC,QAnCZ,WACI,IAAMyC,EAAWpE,EAAMgC,MAEjBqC,EHnDV,+BAIG,SAAmCT,GACxC,IAAMU,EAAUV,EAAShB,KAAI,SAACmB,GAC5B,IAAMjB,EAAgB,GAKtB,OAJAA,EAAIkB,KAAKD,EAAQhG,OACjB+E,EAAIkB,KAAKD,EAAQ/F,KAAK2F,YACtBb,EAAIkB,KAAKD,EAAQ5F,OAAOwF,YACxBb,EAAIkB,KAAKD,EAAQ3F,WACV0E,KAIT,OADAwB,EAAQC,QADU,CAAC,QAAS,OAAQ,SAAU,cAEvCD,EGmCeE,CAA0B9B,OAAO+B,OAAOzE,EAAMiB,OHlD5B2B,KAAI,SAAC1B,GAAD,OAAOA,EAAEwD,KAAK,QAAMA,KAAK,MGoDzDC,EAAOC,SAASC,cAAc,KACpCF,EAAKG,aAAa,OAAQT,GAC1BM,EAAKG,aAAa,WAAYV,EAAW,QACzCO,EAAKI,QACLJ,EAAKK,UA2BL,uB,mBCtEFC,GAAiB,IAAIhH,KAC3BgH,GAAeC,QAAQD,GAAeE,UAAY,GAElD,IAAM7H,GAA2B,CAC/ByB,SAAU,GACVS,MAAO,GACP4F,SAAU,GACVC,gBAAiB,MACjBC,YAAarH,KAAKC,MAClBqH,UAAWN,GAAezE,WAKfgF,GAAapI,YAAY,CACpCC,KAAM,QACNC,gBAEAC,SAAU,CACRkI,aAAc,SAAChI,EAAOC,GAChBA,EAAOG,QAAQkB,WAAUtB,EAAMsB,SAAWrB,EAAOG,QAAQkB,UACzDrB,EAAOG,QAAQuH,WAAU3H,EAAM2H,SAAW1H,EAAOG,QAAQuH,UACzD1H,EAAOG,QAAQ2B,QAAO/B,EAAM+B,MAAQ9B,EAAOG,QAAQ2B,QAEzDkG,oBAAqB,SAACjI,EAAOC,GAC3BD,EAAM4H,gBAAkB3H,EAAOG,SAEjC8H,eAAgB,SAAClI,EAAOC,GACtBD,EAAM6H,YAAc5H,EAAOG,SAE7B+H,aAAc,SAACnI,EAAOC,GACpBD,EAAM8H,UAAY7H,EAAOG,YAKxB,GAKH2H,GAAW3G,QAJb4G,GADK,GACLA,aACAC,GAFK,GAELA,oBACAC,GAHK,GAGLA,eACAC,GAJK,GAILA,aAGWC,GAAsB,SAACpI,GAAD,OAAsBA,EAAMqI,MAAM/G,UACxDgH,GAAmB,SAACtI,GAAD,OAAsBA,EAAMqI,MAAMtG,OACrDwG,GAAsB,SAACvI,GAAD,OAAsBA,EAAMqI,MAAMV,UACxDa,GAA8B,SAACxI,GAAD,OACzCA,EAAMqI,MAAMT,iBACDa,GAAyB,SAACzI,GAAD,OACpCA,EAAMqI,MAAMR,aACDa,GAAuB,SAAC1I,GAAD,OAAsBA,EAAMqI,MAAMP,WAEvDC,MAAf,QCnEO,SAASY,GACdC,EACAhB,GAEA,IAAIiB,EACJ,OAAQjB,GACN,IAAK,OACH,IAAMkB,EAAc,IAAItI,KAAK,YAEvBuI,EAAOC,OAAO9G,SAAS0G,GAC7BE,EAAYG,YAAYF,GACxBF,EAASC,EACT,MACF,IAAK,QAGL,IAAK,MACHD,EAAS,IAAIrI,KAAKoI,GAGtB,OAAOC,EAwBF,SAASK,GAAmBC,GACjC,IAAMC,EAAcD,EAAQ,EAC5B,OAAIC,EAAc,GACT,IAAMA,EAAYlD,WAElBkD,EAAYlD,WCsCvB,SAASmD,GACP7F,EACA8F,EACAC,GAEA,IAAMhJ,EAAO,IAAIC,KAAKgD,EAAKjD,MACrBsI,EAAuB,GAC7B,GAAuB,SAAnBrF,EAAK7C,WAA0B4I,EAAYD,EAI7C,IADA,IAAIE,EAASjJ,EAAKwC,YACTyG,EAASD,IACZC,GAAUF,GACZT,EAAOtC,KAAK,CAAEhG,KAAMA,EAAKwC,UAAWrC,OAAQ8C,EAAK9C,SAEnD+I,GAAcjG,EAAK7C,UAAWJ,GAC9BiJ,EAASjJ,EAAKwC,eARhB8F,EAAOtC,KAAK,CAAEhG,KAAMA,EAAKwC,UAAWrC,OAAQ8C,EAAK9C,SAWnD,OAAOmI,EAET,SAASY,GAAc9I,EAAuB+I,GAC5C,OAAQ/I,GACN,IAAK,QACH+I,EAAEjC,QAAQiC,EAAEhC,UAAY,GACxB,MACF,IAAK,SACHgC,EAAEjC,QAAQiC,EAAEhC,UAAY,GACxB,MACF,IAAK,UACHgC,EAAEC,SAASD,EAAEE,WAAa,GAC1B,MACF,IAAK,SACHF,EAAET,YAAYS,EAAEG,cAAgB,IAMtC,SAASC,GACPtG,EACAoE,GAEA,IAAMzC,EAA2B,IAAI4E,IAYrC,OAXAvG,EAAK3C,SAAQ,SAACmJ,GACZ,IAAMpB,ED7GH,SACLc,EACA9B,GAEA,OAAQA,GACN,IAAK,OACH,MAAO,GAAK8B,EAAEG,cAChB,IAAK,QACH,OAAYH,EAAEG,cAAgB,IAAMX,GAAmBQ,EAAEE,YAC3D,IAAK,MACH,OAEEF,EAAEG,cACF,IACAX,GAAmBQ,EAAEE,YACrB,IACAF,EAAEhC,WC6FMuC,CACV,IAAIzJ,KAAKwJ,EAAIzJ,MACbqH,GAEF,GAAIgB,EAAK,CACP,IAAM/F,EAAQsC,EAAI+E,IAAItB,GAChBuB,EAAMtH,GAAgB,EAC5BsC,EAAIiF,IAAIxB,EAAKuB,EAAMH,EAAItJ,YAGpByE,E,cCtITkF,IAAMC,SAASC,IAAQC,IAAgBC,IAAaC,IAAcC,IAAaC,IAAWC,IAAOC,KAEjG,IAAMC,GAAmB,CACrBnH,KAAM,OACNJ,KAAM,CACFwH,SAAU,CACN,CACI1K,MAAO,SACP2K,MAAM,EACNC,gBAAiB,yBACjBC,YAAa,uBACb3H,KAAM,IAEV,CACIlD,MAAO,SACP2K,MAAM,EACNC,gBAAiB,0BACjBC,YAAa,wBACb3H,KAAM,IAEV,CACIlD,MAAO,WACP2K,MAAM,EACNC,gBAAiB,0BACjBC,YAAa,wBACb3H,KAAM,MAIlB4H,QAAS,CACLC,YAAY,EAEZC,QAAS,CACLC,OAAQ,CACJC,SAAU,OAEdjH,MAAO,CACHI,SAAS,EACT8G,KAAM,aAGdC,OAAQ,CACJC,EAAG,CACC/H,KAAM,OACNgI,aAAc,UAElBC,EAAG,CACCjI,KAAM,aAWP,SAASkI,KACpB,IAAMC,EAAWzM,IAEX0M,EAAiBC,iBAAiC,MAClDC,EAAgBD,iBAAqB,MAErCE,EAAe3M,EAAe6B,GAC9B+K,EAAY5M,EAAesC,GAE3B+F,EAAcrI,EAAeiJ,IAC7BX,EAAYtI,EAAekJ,IAE3BpH,EAAW9B,EAAe4I,IAC1BT,EAAWnI,EAAe+I,IAC1BxG,EAAQvC,EAAe8I,IACvBV,EAAkBpI,EAAegJ,IA4DvC,OAzDA6D,qBAAU,WAIN,OAHIL,GAAkBA,EAAeM,UACjCJ,EAAcI,QAAU,IAAIjC,IAAM2B,EAAeM,QAASvB,KAEvD,WACCmB,GAAiBA,EAAcI,SAC/BJ,EAAcI,QAAQC,aAG/B,CAACP,IAGJK,qBAAU,WACN,GAAIH,GAAiBA,EAAcI,QAAS,CACxC,IAAME,EAAkC7E,EAASxC,KAAI,SAACsH,GAClD,MAAO,CAAEd,EAAG,IAAInL,KAAKiM,EAAMlM,MAAOsL,EAAGY,EAAM/L,WAEzCgM,EAA8B3K,EAAMoD,KAAI,SAACsH,GAC3C,MAAO,CAAEd,EAAG,IAAInL,KAAKiM,EAAMlM,MAAOsL,EAAGY,EAAM/L,WAEzCiM,EAAiCrL,EAAS6D,KAAI,SAACsH,GACjD,MAAO,CAAEd,EAAG,IAAInL,KAAKiM,EAAMlM,MAAOsL,EAAGY,EAAM/L,WAE/CwL,EAAcI,QAAQ9I,KAAKwH,SAAS,GAAGxH,KAAOgJ,EAC9CN,EAAcI,QAAQ9I,KAAKwH,SAAS,GAAGxH,KAAOkJ,EAC9CR,EAAcI,QAAQ9I,KAAKwH,SAAS,GAAGxH,KAAOmJ,EAE9CT,EAAcI,QAAQrL,SAE1B,OAAO,eAGR,CAACK,EAAUS,EAAO4F,EAAUC,IAG/ByE,qBAAU,WACN,IAAMO,EDnHP,SACLtL,EACAS,EACAuH,EACAC,EACA3B,GAGA,IAAMiF,EAAqC,GACrCC,EAAkC,GACxCxL,EAAST,SAAQ,SAACmJ,GAAD,OACf6C,EAAqBtG,KAArB,MAAAsG,EAAoB,YACfxD,GAA2BW,EAAKV,EAAaC,QAGpDxH,EAAMlB,SAAQ,SAACmJ,GAAD,OACZ8C,EAAkBvG,KAAlB,MAAAuG,EAAiB,YACZzD,GAA2BW,EAAKV,EAAaC,QAKpD,IAAMwD,EAAwBjD,GAC5B+C,EACAjF,GAEIoF,EAAqBlD,GACzBgD,EACAlF,GAIIqF,EAAoC,GACpCC,EAAiC,GAEvCH,EAAsBlM,SAAQ,SAACgC,EAAO+F,GACpC,IAAMrI,EAAOoI,GAAkBC,EAAKhB,GACpCqF,EAAoB1G,KAAK,CAAEhG,KAAMA,EAAKwC,UAAWrC,OAAQmC,OAG3DmK,EAAmBnM,SAAQ,SAACgC,EAAO+F,GACjC,IAAMrI,EAAOoI,GAAkBC,EAAKhB,GACpCsF,EAAiB3G,KAAK,CAAEhG,KAAMA,EAAKwC,UAAWrC,OAAQmC,OAGxDoK,EAAoBE,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE7M,KAAO8M,EAAE9M,QAC9C2M,EAAiBC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE7M,KAAO8M,EAAE9M,QAG3C,IAMM+M,EAAwBxD,GANO,UAChCmD,EACAC,GAMHtF,GAII2F,EAAoC,GAC1CD,EAAsBzM,SAAQ,SAACgC,EAAO+F,GACpC,IAAMrI,EAAOoI,GAAkBC,EAAKhB,GACpC2F,EAAoBhH,KAAK,CAAEhG,KAAMA,EAAKwC,UAAWrC,OAAQmC,OAE3D0K,EAAoBJ,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE7M,KAAO8M,EAAE9M,QAG9C,IAAI4J,EAAM,EAOV,OANAoD,EAAoB1M,SAAQ,SAAC4L,GAC3BtC,GAAOsC,EAAM/L,OACb+L,EAAM/L,OAASyJ,KAIV,CACL7I,SAAU2L,EACVlL,MAAOmL,EACPvF,SAAU4F,GCoCYC,CAA6BvI,OAAO+B,OAAOmF,GAAelH,OAAO+B,OAAOoF,GAAYvE,EAAaC,EAAWF,GAC9HmE,EAAS/D,GAAa,CAClB1G,SAAUsL,EAAUtL,SACpBS,MAAO6K,EAAU7K,MACjB4F,SAAUiF,EAAUjF,cAGzB,CAACoE,EAAUK,EAAWD,EAAcvE,EAAiBC,EAAaC,IAejE,gCACI,gCACI,cAACxF,EAAD,CAAmBO,MAAOgF,EAAavH,MAAO,aAAcwC,SAVxE,SAA+BvC,GAC3BwL,EAAS7D,GAAe3H,OAUhB,cAAC+B,EAAD,CAAmBO,MAAOiF,EAAWxH,MAAO,WAAYwC,SARpE,SAA6BvC,GACzBwL,EAAS5D,GAAa5H,OAQd,eAACuD,EAAA,EAAD,WACI,cAAC2J,GAAA,EAAD,CAAYvN,GAAG,qBAAf,uBACA,eAAC8D,EAAA,EAAD,CACI0J,QAAQ,qBACRxN,GAAG,eACHI,MAAM,YACNuC,MAAO+E,EACP9E,SAxBpB,SAAqC6K,GACjC,IAAMC,EAA0BD,EAAMhK,OAAOd,MAC7CkJ,EAAS9D,GAAoB2F,KAiBjB,UAOI,cAAC3J,EAAA,EAAD,CAAUpB,MAAO,MAAjB,iBACA,cAACoB,EAAA,EAAD,CAAUpB,MAAO,QAAjB,mBACA,cAACoB,EAAA,EAAD,CAAUpB,MAAO,OAAjB,2BAIZ,qBAAKwB,MAAO,CAACK,SAAS,IAAME,OAAO,UAAnC,SACI,qBAAKP,MAAO,CAAEM,QAAQ,SAAtB,SACI,wBAASkJ,IAAK7B,WC9EnB8B,OA5Ef,WACE,IAAMxM,EAAW9B,EAAe6B,GAC1BU,EAAQvC,EAAesC,GAEvB+F,EAAcrI,EAAeiJ,IAC7BX,EAAYtI,EAAekJ,IAE3BqD,EAAWzM,IAmBjB,SAASyO,EAAsBC,GACzBA,EAAUnG,GAAakE,EAAS7D,GAAe8F,IAC/CA,EAAUlG,GAAYiE,EAAS5D,GAAa6F,IA6BlD,OACE,gCACE,qBAAK3J,MAAO,CAAEC,UAAW,SAAU2J,SAAU,KAA7C,SAAoD,qDACpD,qBAAK5J,MAAO,CAAEC,UAAW,SAAU2J,SAAU,KAA7C,SACE,cAACnC,GAAD,MAEF,qBAAKzH,MAAO,CAAEC,UAAW,SAAU2J,SAAU,KAA7C,SACE,cAAC7J,EAAD,CAAWG,MAAO,SAAUf,KAAMzB,EAAOyC,OArD/C,SAA0B7C,GACxBoK,EAASvK,EAAQG,GAAc,QAoDwC+B,UAjDzE,SAA0BxD,EAAYyB,GACpCoK,EAASnK,EAAW,CAAE1B,GAAIA,EAAIyB,KAAMA,KAChCA,EAAKpB,MAAMwN,EAAsBpM,EAAKpB,OA+C0D4D,UAjCtG,SAA0BjE,GACxB6L,EAASlK,EAAW,CAAE3B,GAAIA,MAgCuGsG,iBAhBnI,SAAmChD,GACjC,IAAM0K,EAAejJ,OAAO+B,OAAOxD,GAAM2B,KAAI,SAAC6E,GAAD,OAASA,EAAIzJ,QACpD4N,EAAUC,KAAKC,IAAL,MAAAD,KAAI,YAAQF,IACtBI,EAAUF,KAAKG,IAAL,MAAAH,KAAI,YAAQF,IAC5BnC,EAASrK,EAAa8B,IACtBuI,EAAS7D,GAAekG,KAAKC,IAAIxG,EAAasG,KAC9CpC,EAAS5D,GAAaiG,KAAKG,IAAIzG,EAAWwG,MAUoIhJ,iBAAiB,MAE7L,qBAAKjB,MAAO,CAAEC,UAAW,SAAU2J,SAAU,KAA7C,SACE,cAAC7J,EAAD,CAAWG,MAAO,WAAYf,KAAMlC,EAAUkD,OA3DpD,SAA6B1D,GAC3BiL,EAAShM,EAAWe,GAAoB,QA0DuC4C,UA/CjF,SAA6BxD,EAAYY,GACvCiL,EAAShL,EAAc,CAAEb,GAAIA,EAAIY,QAASA,KACtCA,EAAQP,MAAMwN,EAAsBjN,EAAQP,OA6C+D4D,UAhCjH,SAA6BjE,GAC3B6L,EAAS5K,EAAc,CAAEjB,GAAIA,MA+BkHsG,iBA5BjJ,SAAsChD,GACpC,IAAMgL,EAAkBvJ,OAAO+B,OAAOxD,GAAM2B,KAAI,SAAC6E,GAAD,OAASA,EAAIzJ,QACvD4N,EAAUC,KAAKC,IAAL,MAAAD,KAAI,YAAQI,IACtBF,EAAUF,KAAKG,IAAL,MAAAH,KAAI,YAAQI,IAC5BzC,EAASnL,EAAgB4C,IACzBuI,EAAS7D,GAAekG,KAAKC,IAAIxG,EAAasG,KAC9CpC,EAAS5D,GAAaiG,KAAKG,IAAIzG,EAAWwG,MAsBqJhJ,iBAAiB,MAE9M,uBACA,uBACA,2BC9EOmJ,GAAQC,YAAe,CAClCC,QAAS,CACPrN,SAAUsN,EACV7M,MAAO8M,EACPxG,MAAOyG,MCGSC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCVNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUb,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJtH,SAASoI,eAAe,SD0HpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAACC,GACLA,EAAaC,gBAEdC,OAAM,SAACC,GACNC,QAAQD,MAAMA,EAAME,c","file":"static/js/main.2cf260cf.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState } from '../app/store';\nimport { Expense } from '../common/expense';\nimport { uuid } from 'uuidv4';\n\nexport interface ExpensesState {\n  [id: string]: Expense;\n}\n\nconst initialState: ExpensesState = {};\n\nexport const expensesSlice = createSlice({\n  name: 'expenses',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {\n    addExpense: (state, action: PayloadAction<Expense | null>) => {\n      const id = uuid();\n      if (action.payload) {\n        state[id] = action.payload;\n      } else {\n        const defaultExpense: Expense = {\n          label: '',\n          date: Date.now(),\n          amount: 0,\n          frequency: 'once',\n        };\n        state[id] = defaultExpense;\n      }\n    },\n    bulkAddExpenses: (state, action: PayloadAction<Expense[]>) => {\n      action.payload.forEach((expense) => {\n        const id = uuid();\n        state[id] = expense;\n      });\n    },\n    updateExpense: (\n      state,\n      action: PayloadAction<{ id: string; expense: Partial<Expense> }>\n    ) => {\n      const orig = state[action.payload.id];\n      const update = action.payload.expense;\n      // hard-code the updated fields\n      if (update.amount !== undefined) orig.amount = update.amount;\n      if (update.date !== undefined) orig.date = update.date;\n      if (update.frequency !== undefined) orig.frequency = update.frequency;\n      if (update.label !== undefined) orig.label = update.label;\n    },\n    removeExpense: (state, action: PayloadAction<{ id: string }>) => {\n      delete state[action.payload.id];\n    },\n  },\n});\n\nexport const { addExpense, bulkAddExpenses, updateExpense, removeExpense } =\n  expensesSlice.actions;\n\nexport const selectExpenses = (state: RootState) => state.expenses;\n\nexport default expensesSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState } from '../app/store';\nimport { Wage } from '../common/wage';\nimport { uuid } from 'uuidv4';\n\nexport interface WagesState {\n  [id: string]: Wage;\n}\n\nconst initialState: WagesState = {};\n\nexport const wageSlice = createSlice({\n  name: 'wage',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {\n    addWage: (state, action: PayloadAction<Wage | null>) => {\n      const id = uuid();\n      if (action.payload) {\n        state[id] = action.payload;\n      } else {\n        const defaultWage: Wage = {\n          label: '',\n          date: Date.now(),\n          amount: 0,\n          frequency: 'once',\n        };\n        state[id] = defaultWage;\n      }\n    },\n    bulkAddWages: (state, action: PayloadAction<Wage[]>) => {\n      action.payload.forEach((wage) => {\n        const id = uuid();\n        state[id] = wage;\n      });\n    },\n    updateWage: (\n      state,\n      action: PayloadAction<{ id: string; wage: Partial<Wage> }>\n    ) => {\n      const orig = state[action.payload.id];\n      const update = action.payload.wage;\n      // hard-code the updated fields\n      if (update.amount !== undefined) orig.amount = update.amount;\n      if (update.date !== undefined) orig.date = update.date;\n      if (update.frequency !== undefined) orig.frequency = update.frequency;\n      if (update.label !== undefined) orig.label = update.label;\n    },\n    removeWage: (state, action: PayloadAction<{ id: string }>) => {\n      delete state[action.payload.id];\n    },\n  },\n});\n\nexport const { addWage, bulkAddWages, updateWage, removeWage } =\n  wageSlice.actions;\n\nexport const selectWages = (state: RootState) => state.wages;\n\nexport default wageSlice.reducer;\n","import { IDataRow } from '../common/idatarow';\nimport { IFrequency } from '../common/common-types';\n\nexport function createCSV(rows: string[][]) {\n  let csvContent =\n    'data:text/csv;charset=utf-8,' + rows.map((e) => e.join(',')).join('\\n');\n  return csvContent;\n}\n\nexport function convertDataRowIntoCSVRows(dataRows: IDataRow[]) {\n  const csvRows = dataRows.map((dataRow) => {\n    const row: string[] = [];\n    row.push(dataRow.label);\n    row.push(dataRow.date.toString());\n    row.push(dataRow.amount.toString());\n    row.push(dataRow.frequency);\n    return row;\n  });\n  const headerRow = ['label', 'date', 'amount', 'frequency'];\n  csvRows.unshift(headerRow);\n  return csvRows;\n}\n\nexport function convertCSVRowIntoDataRow(csvRow: string[]) {\n  const label = csvRow[0];\n  const date: number = parseInt(csvRow[1]);\n  const amount: number = parseFloat(csvRow[2]);\n  const freqency = csvRow[3] as IFrequency;\n  const result: IDataRow = {\n    label: label,\n    date: !isNaN(date) ? date : -1,\n    amount: !isNaN(amount) ? amount : -1,\n    frequency: freqency,\n  };\n  return result;\n}\n","import AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport MobileDatePicker from '@mui/lab/MobileDatePicker';\nimport { TextField } from '@mui/material';\nexport interface DatePickerWrapperProps {\n    value: number;\n    label?: string;\n    onChange: (date: number) => void;\n}\n\nexport function DatePickerWrapper(props: DatePickerWrapperProps) {\n\n    function handleChange(date: any) {\n        if (date) {\n            props.onChange(date.getTime());\n        }\n    }\n\n    return <LocalizationProvider dateAdapter={AdapterDateFns}>\n        <MobileDatePicker\n            label={props.label}\n            inputFormat=\"MM/dd/yyyy\"\n            value={props.value}\n            onChange={handleChange}\n            renderInput={(params) => <TextField {...params} />}\n        />\n    </LocalizationProvider>\n\n\n}","\nimport { DatePickerWrapper } from './DatePickerWrapper';\nimport { IDataRow } from '../common/idatarow';\nimport { IFrequency } from '../common/common-types';\n\nimport TableCell from '@mui/material/TableCell';\nimport TableRow from '@mui/material/TableRow';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { FormControl, MenuItem, Select, TextField } from '@mui/material';\n\nexport interface IDataRowProps {\n    uuid: string;\n    data: IDataRow;\n    isExpensesRow: boolean;\n    addRow: (data?: IDataRow) => void;\n    updateRow: (id: string, row: Partial<IDataRow>) => void;\n    deleteRow: (id: string) => void;\n}\nexport function DataRow(props: IDataRowProps) {\n    return <TableRow>\n        <TableCell className=\"label-form\"><TextField variant=\"outlined\" value={props.data.label} onChange={(e) => props.updateRow(props.uuid, { label: e.target.value })}></TextField></TableCell>\n        <TableCell className=\"label-date\">\n            <DatePickerWrapper value={props.data.date} onChange={(date: number) => props.updateRow(props.uuid, { date: date })}></DatePickerWrapper>\n        </TableCell>\n        <TableCell>\n            <TextField type=\"number\" variant=\"outlined\" value={props.isExpensesRow? (-1 * props.data.amount) : props.data.amount} onChange={(e) => {\n                const amount = parseFloat(e.target.value);\n                if (amount) props.updateRow(props.uuid, { amount: props.isExpensesRow? (-1 * amount) : amount });\n            }}></TextField>\n        </TableCell>\n        <TableCell>\n            <FormControl fullWidth>\n                <Select\n                    value={props.data.frequency}\n                    onChange={(e) => props.updateRow(props.uuid, { frequency: e.target.value as IFrequency })}\n                >\n                    <MenuItem value='once'>Once</MenuItem>\n                    <MenuItem value='daily'>Daily</MenuItem>\n                    <MenuItem value='weekly'>Weekly</MenuItem>\n                    <MenuItem value='monthly'>Monthly</MenuItem>\n                    <MenuItem value='yearly'>Yearly</MenuItem>\n                </Select>\n            </FormControl>\n        </TableCell>\n        <TableCell onClick={() => props.deleteRow(props.uuid)}><DeleteIcon /></TableCell>\n    </TableRow>\n}","import React from 'react';\nimport './Table.css'\n\nimport { IDataRow } from '../common/idatarow';\nimport { convertCSVRowIntoDataRow, convertDataRowIntoCSVRows, createCSV } from '../utilities/csv-utils'\nimport { DataRow } from './DataRow';\n\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Button from '@mui/material/Button';\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\n\nimport { parse } from 'papaparse';\n\n\nexport interface ITableProps {\n    title: string;\n    data: { [id: string]: IDataRow; }\n    isExpensesTable: boolean;\n    addRow: (data?: IDataRow) => void;\n    updateRow: (id: string, row: Partial<IDataRow>) => void;\n    deleteRow: (id: string) => void;\n    onImportComplete: (data: IDataRow[]) => void;\n}\nexport function DataTable(props: ITableProps) {\n\n    function handleAddRow() {\n        props.addRow();\n    }\n    function handleImport(e: React.ChangeEvent<HTMLInputElement>) {\n        if (e.target.files) {\n            const file = e.target.files[0];\n            const reader = new FileReader();\n            reader.onload = (evt) => {\n                /* Parse data */\n                const bstr = evt.target?.result;\n                if (bstr) {\n                    const rows = parse(bstr.toString());\n                    const dataRows: IDataRow[] = []\n                    for (let i = 1; i < rows.data.length; i++) {\n                        const row = rows.data[i] as string[];\n                        const dataRow = convertCSVRowIntoDataRow(row);\n                        dataRows.push(dataRow);\n                    }\n                    props.onImportComplete(dataRows);\n                }\n            };\n            reader.readAsBinaryString(file);\n        }\n    }\n    function handleExport() {\n        const filename = props.title;\n        const csvRows = convertDataRowIntoCSVRows(Object.values(props.data));\n        const csvContent = createCSV(csvRows);\n        const link = document.createElement('a');\n        link.setAttribute('href', csvContent);\n        link.setAttribute('download', filename + \".csv\");\n        link.click();\n        link.remove();\n        // window.open(encodedUri);\n    }\n\n    return <div>\n        <div style={{ textAlign: 'center' }}><h3>{props.title} <AddCircleOutlineIcon onClick={handleAddRow} /></h3></div>\n        <div style={{ maxHeight: 400, maxWidth: 1000, display:\"block\", margin:\"0 auto\", overflowX: 'auto' }}>\n            <Table stickyHeader >\n                <TableHead>\n                    <TableRow>\n                        <TableCell className=\"label-form\">Label </TableCell>\n                        <TableCell className=\"label-date\">Date</TableCell>\n                        <TableCell>Amount</TableCell>\n                        <TableCell>Frequency</TableCell>\n                        <TableCell>X</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody >\n                    {Object.entries(props.data).map((entry) => {\n                        const uuid = entry[0];\n                        const row = entry[1];\n                        return <DataRow key={uuid} uuid={uuid} data={row} isExpensesRow={props.isExpensesTable} addRow={props.addRow} updateRow={props.updateRow} deleteRow={props.deleteRow}></DataRow>\n                    })}\n                </TableBody>\n            </Table>\n        </div>\n        <input type=\"file\" accept=\".csv\" onChange={handleImport} />\n        <Button onClick={handleExport}>Export</Button>\n    </div>\n}\n\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState } from '../app/store';\nimport { AggregateOption } from '../common/common-types';\n\nexport interface ChartState {\n  expenses: ChartPoint[];\n  wages: ChartPoint[];\n  finances: ChartPoint[];\n  aggregateOption: AggregateOption;\n  startTimeMs: number;\n  endTimeMs: number;\n}\n\nexport interface ChartPoint {\n  date: number;\n  amount: number;\n}\n\nconst defaultEndDate = new Date();\ndefaultEndDate.setDate(defaultEndDate.getDate() + 7);\n\nconst initialState: ChartState = {\n  expenses: [],\n  wages: [],\n  finances: [],\n  aggregateOption: 'day',\n  startTimeMs: Date.now(),\n  endTimeMs: defaultEndDate.getTime(),\n};\n\nexport type ChartDataLabel = 'expenses' | 'wages' | 'finances';\n\nexport const chartSlice = createSlice({\n  name: 'chart',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {\n    setChartData: (state, action: PayloadAction<Partial<ChartState>>) => {\n      if (action.payload.expenses) state.expenses = action.payload.expenses;\n      if (action.payload.finances) state.finances = action.payload.finances;\n      if (action.payload.wages) state.wages = action.payload.wages;\n    },\n    setAgggregateOption: (state, action: PayloadAction<AggregateOption>) => {\n      state.aggregateOption = action.payload;\n    },\n    setStartTimeMs: (state, action: PayloadAction<number>) => {\n      state.startTimeMs = action.payload;\n    },\n    setEndTimeMs: (state, action: PayloadAction<number>) => {\n      state.endTimeMs = action.payload;\n    },\n  },\n});\n\nexport const {\n  setChartData,\n  setAgggregateOption,\n  setStartTimeMs,\n  setEndTimeMs,\n} = chartSlice.actions;\n\nexport const selectChartExpenses = (state: RootState) => state.chart.expenses;\nexport const selectChartWages = (state: RootState) => state.chart.wages;\nexport const selectChartFinances = (state: RootState) => state.chart.finances;\nexport const selectChartAgggregateOption = (state: RootState) =>\n  state.chart.aggregateOption;\nexport const selectChartStartTimeMs = (state: RootState) =>\n  state.chart.startTimeMs;\nexport const selectChartEndTimeMs = (state: RootState) => state.chart.endTimeMs;\n\nexport default chartSlice.reducer;\n","import { AggregateOption } from '../common/common-types';\n\nexport const MILLIS_PER_WEEK = 1000 * 60 * 60 * 24 * 7;\nexport function createDateFromKey(\n  key: string,\n  aggregateOption: AggregateOption\n) {\n  let retVal;\n  switch (aggregateOption) {\n    case 'year':\n      const createdDate = new Date('1-1-1970');\n      // tslint:disable-next-line: radix\n      const year = Number.parseInt(key);\n      createdDate.setFullYear(year);\n      retVal = createdDate;\n      break;\n    case 'month':\n      retVal = new Date(key);\n      break;\n    case 'day':\n      retVal = new Date(key);\n      break;\n  }\n  return retVal;\n}\n\nexport function createKeyByAggregateOptionAndDate(\n  d: Date,\n  aggregateOption: AggregateOption\n) {\n  switch (aggregateOption) {\n    case 'year':\n      return '' + d.getFullYear();\n    case 'month':\n      return '' + d.getFullYear() + '/' + getMonthInMMFormat(d.getMonth());\n    case 'day':\n      return (\n        '' +\n        d.getFullYear() +\n        '/' +\n        getMonthInMMFormat(d.getMonth()) +\n        '/' +\n        d.getDate()\n      );\n  }\n}\n\nexport function getMonthInMMFormat(month: number) {\n  const actualMonth = month + 1;\n  if (actualMonth < 10) {\n    return '0' + actualMonth.toString();\n  } else {\n    return actualMonth.toString();\n  }\n}\nexport function getDateinDDFormat(date: number) {\n  if (date < 10) {\n    return '0' + date.toString();\n  } else {\n    return date.toString();\n  }\n}\nexport function compareDates(a: Date, b: Date) {\n  let compare = a.getFullYear() - b.getFullYear();\n  if (compare === 0) {\n    compare = a.getMonth() - b.getMonth();\n  }\n  if (compare === 0) {\n    compare = a.getDate() - b.getDate();\n  }\n  return compare;\n}\n","import { IDataRow } from '../common/idatarow';\nimport { AggregateOption, IFrequency } from '../common/common-types';\nimport { ChartPoint } from '../slices/chartSlice';\nimport {\n  createDateFromKey,\n  createKeyByAggregateOptionAndDate,\n} from './date-utils';\n\nexport function convertDataRowsIntoChartData(\n  expenses: IDataRow[],\n  wages: IDataRow[],\n  startDateMs: number,\n  endDateMs: number,\n  aggregateOption: AggregateOption\n) {\n  // project future chart points\n  const allExpensesChartData: ChartPoint[] = [];\n  const allWagesChartData: ChartPoint[] = [];\n  expenses.forEach((val) =>\n    allExpensesChartData.push(\n      ...generateRecurringChartData(val, startDateMs, endDateMs)\n    )\n  );\n  wages.forEach((val) =>\n    allWagesChartData.push(\n      ...generateRecurringChartData(val, startDateMs, endDateMs)\n    )\n  );\n\n  // aggregate future points\n  const aggregatedExpensesMap = aggregateChartDataByFrequency(\n    allExpensesChartData,\n    aggregateOption\n  );\n  const aggregatedWagesMap = aggregateChartDataByFrequency(\n    allWagesChartData,\n    aggregateOption\n  );\n\n  // convert aggregate maps to chart points\n  const expensesChartPoints: ChartPoint[] = [];\n  const wagesChartPoints: ChartPoint[] = [];\n\n  aggregatedExpensesMap.forEach((value, key) => {\n    const date = createDateFromKey(key, aggregateOption);\n    expensesChartPoints.push({ date: date.getTime(), amount: value });\n  });\n\n  aggregatedWagesMap.forEach((value, key) => {\n    const date = createDateFromKey(key, aggregateOption);\n    wagesChartPoints.push({ date: date.getTime(), amount: value });\n  });\n\n  expensesChartPoints.sort((a, b) => a.date - b.date);\n  wagesChartPoints.sort((a, b) => a.date - b.date);\n\n  // combine points\n  const financesChartData: ChartPoint[] = [\n    ...expensesChartPoints,\n    ...wagesChartPoints,\n  ];\n\n  // aggregate points\n  const aggregatedFinancesMap = aggregateChartDataByFrequency(\n    financesChartData,\n    aggregateOption\n  );\n\n  // convert aggregate map to chart points\n  const financesChartPoints: ChartPoint[] = [];\n  aggregatedFinancesMap.forEach((value, key) => {\n    const date = createDateFromKey(key, aggregateOption);\n    financesChartPoints.push({ date: date.getTime(), amount: value });\n  });\n  financesChartPoints.sort((a, b) => a.date - b.date);\n\n  // create running total of finances\n  let sum = 0;\n  financesChartPoints.forEach((point) => {\n    sum += point.amount;\n    point.amount = sum;\n  });\n\n  // return results\n  return {\n    expenses: expensesChartPoints,\n    wages: wagesChartPoints,\n    finances: financesChartPoints,\n  };\n}\nfunction generateRecurringChartData(\n  data: IDataRow,\n  startDateMs: number,\n  endDateMs: number\n) {\n  const date = new Date(data.date);\n  const retVal: ChartPoint[] = [];\n  if (data.frequency === 'once' || !(endDateMs > startDateMs)) {\n    retVal.push({ date: date.getTime(), amount: data.amount });\n  } else {\n    let timeMs = date.getTime();\n    while (!(timeMs > endDateMs)) {\n      if (timeMs >= startDateMs) {\n        retVal.push({ date: date.getTime(), amount: data.amount });\n      }\n      incrementDate(data.frequency, date);\n      timeMs = date.getTime();\n    }\n  }\n  return retVal;\n}\nfunction incrementDate(frequency: IFrequency, d: Date) {\n  switch (frequency) {\n    case 'daily':\n      d.setDate(d.getDate() + 1);\n      break;\n    case 'weekly':\n      d.setDate(d.getDate() + 7);\n      break;\n    case 'monthly':\n      d.setMonth(d.getMonth() + 1);\n      break;\n    case 'yearly':\n      d.setFullYear(d.getFullYear() + 1);\n      break;\n    default:\n      break;\n  }\n}\nfunction aggregateChartDataByFrequency(\n  data: ChartPoint[],\n  aggregateOption: AggregateOption\n) {\n  const map: Map<string, number> = new Map<string, number>();\n  data.forEach((val) => {\n    const key = createKeyByAggregateOptionAndDate(\n      new Date(val.date),\n      aggregateOption\n    );\n    if (key) {\n      const value = map.get(key);\n      const sum = value ? value : 0;\n      map.set(key, sum + val.amount);\n    }\n  });\n  return map;\n}\n","import React, { useEffect, useRef } from \"react\";\nimport 'chartjs-adapter-moment';\nimport { Chart, Legend, LineController, LineElement, PointElement, LinearScale, TimeScale, Title, Tooltip } from 'chart.js';\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport { selectChartExpenses, selectChartFinances, selectChartAgggregateOption, selectChartWages, setChartData, setAgggregateOption, selectChartStartTimeMs, selectChartEndTimeMs, setStartTimeMs, setEndTimeMs } from \"../slices/chartSlice\";\nimport { AggregateOption } from \"../common/common-types\";\nimport { selectExpenses } from \"../slices/expensesSlice\";\nimport { selectWages } from \"../slices/wagesSlice\";\nimport { convertDataRowsIntoChartData } from \"../utilities/chart-utils\";\nimport { DatePickerWrapper } from \"./DatePickerWrapper\";\nimport { FormControl, InputLabel, MenuItem, Select } from \"@mui/material\";\nChart.register(Legend, LineController, LineElement, PointElement, LinearScale, TimeScale, Title, Tooltip);\n\nconst chartConfig: any = {\n    type: 'line',\n    data: {\n        datasets: [\n            {\n                label: 'Wallet',\n                fill: true,\n                backgroundColor: \"rgb(150, 105, 25, 0.8)\",\n                borderColor: \"rgb(150, 105, 25, 1)\",\n                data: [],\n            },\n            {\n                label: 'Income',\n                fill: true,\n                backgroundColor: \"rgba(63, 195, 128, 0.8)\",\n                borderColor: \"rgba(63, 195, 128, 1)\",\n                data: [],\n            },\n            {\n                label: 'Expenses',\n                fill: true,\n                backgroundColor: \"rgba(255, 99, 132, 0.8)\",\n                borderColor: \"rgba(255, 99, 132, 1)\",\n                data: [],\n            },\n        ]\n    },\n    options: {\n        responsive: true,\n        // responsive: false,\n        plugins: {\n            legend: {\n                position: 'top',\n            },\n            title: {\n                display: true,\n                text: 'Finances'\n            }\n        },\n        scales: {\n            x: {\n                type: 'time',\n                distribution: 'series'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    },\n\n};\n\ninterface ChartJSPoint {\n    x: Date,\n    y: number\n}\nexport default function DataChart() {\n    const dispatch = useAppDispatch();\n    // canvas variable for ChartJs\n    const chartContainer = useRef<HTMLCanvasElement | null>(null);\n    const chartInstance = useRef<Chart | null>(null);\n\n    const expensesData = useAppSelector(selectExpenses);\n    const wagesData = useAppSelector(selectWages);\n\n    const startTimeMs = useAppSelector(selectChartStartTimeMs);\n    const endTimeMs = useAppSelector(selectChartEndTimeMs);\n\n    const expenses = useAppSelector(selectChartExpenses);\n    const finances = useAppSelector(selectChartFinances);\n    const wages = useAppSelector(selectChartWages);\n    const aggregateOption = useAppSelector(selectChartAgggregateOption);\n\n    // creates canvas for ChartJs\n    useEffect(() => {\n        if (chartContainer && chartContainer.current) {\n            chartInstance.current = new Chart(chartContainer.current, chartConfig);\n        }\n        return () => {\n            if (chartInstance && chartInstance.current) {\n                chartInstance.current.destroy();\n            }\n        }\n    }, [chartContainer]);\n\n    // listens to updates on chart data and updates the canvas\n    useEffect(() => {\n        if (chartInstance && chartInstance.current) {\n            const finanacesPoints: ChartJSPoint[] = finances.map((point) => {\n                return { x: new Date(point.date), y: point.amount };\n            })\n            const wagesPoints: ChartJSPoint[] = wages.map((point) => {\n                return { x: new Date(point.date), y: point.amount };\n            })\n            const expensesPoints: ChartJSPoint[] = expenses.map((point) => {\n                return { x: new Date(point.date), y: point.amount };\n            })\n            chartInstance.current.data.datasets[0].data = finanacesPoints as any;\n            chartInstance.current.data.datasets[1].data = wagesPoints as any;\n            chartInstance.current.data.datasets[2].data = expensesPoints as any;\n\n            chartInstance.current.update();\n        }\n        return () => {\n\n        }\n    }, [expenses, wages, finances, aggregateOption])\n\n    // leverage React to listen to changes in state and convert to chart data accordingly\n    useEffect(() => {\n        const chartData = convertDataRowsIntoChartData(Object.values(expensesData), Object.values(wagesData), startTimeMs, endTimeMs, aggregateOption);\n        dispatch(setChartData({\n            expenses: chartData.expenses,\n            wages: chartData.wages,\n            finances: chartData.finances\n        }))\n\n    }, [dispatch, wagesData, expensesData, aggregateOption, startTimeMs, endTimeMs])\n\n    function handleAggregateOptionChange(event: any) {\n        const option: AggregateOption = event.target.value as AggregateOption;\n        dispatch(setAgggregateOption(option));\n    }\n\n    function handleStartTimeChange(date: number) {\n        dispatch(setStartTimeMs(date));\n    }\n    function handleEndTimeChange(date: number) {\n        dispatch(setEndTimeMs(date));\n    }\n\n    return (\n        <div>\n            <div>\n                <DatePickerWrapper value={startTimeMs} label={\"Start Time\"} onChange={handleStartTimeChange}></DatePickerWrapper>\n                <DatePickerWrapper value={endTimeMs} label={\"End Time\"} onChange={handleEndTimeChange}></DatePickerWrapper>\n                <FormControl >\n                    <InputLabel id=\"aggregate-by-label\">Aggregate</InputLabel>\n                    <Select\n                        labelId=\"aggregate-by-label\"\n                        id=\"aggregate-by\"\n                        label=\"Aggregate\"\n                        value={aggregateOption}\n                        onChange={handleAggregateOptionChange}\n                    >\n                        <MenuItem value={\"day\"}>Day</MenuItem>\n                        <MenuItem value={\"month\"}>Month</MenuItem>\n                        <MenuItem value={\"year\"}>Year</MenuItem>\n                    </Select>\n                </FormControl>\n            </div>\n            <div style={{maxWidth:1000, margin:\"0 auto\"}}>\n                <div style={{ display:\"block\"}} >\n                    <canvas  ref={chartContainer} />\n                </div>\n            </div>\n        </div>\n    );\n};\n","import React from 'react';\nimport { useAppDispatch, useAppSelector } from './app/hooks';\nimport { addExpense, bulkAddExpenses, removeExpense, selectExpenses, updateExpense } from './slices/expensesSlice';\nimport { addWage, bulkAddWages, removeWage, selectWages, updateWage } from './slices/wagesSlice';\nimport { Expense } from './common/expense';\nimport { Wage } from './common/wage';\nimport { DataTable } from './components/Table';\nimport DataChart from './components/DataChart';\nimport { selectChartEndTimeMs, selectChartStartTimeMs, setEndTimeMs, setStartTimeMs } from './slices/chartSlice';\nimport { IDataRow } from './common/idatarow';\n\n\nfunction App() {\n  const expenses = useAppSelector(selectExpenses);\n  const wages = useAppSelector(selectWages);\n\n  const startTimeMs = useAppSelector(selectChartStartTimeMs);\n  const endTimeMs = useAppSelector(selectChartEndTimeMs);\n\n  const dispatch = useAppDispatch();\n  function handleCreateExpense(expense?: Expense) {\n    dispatch(addExpense(expense ? expense : null))\n  }\n  function handleCreateWage(wage?: Wage) {\n    dispatch(addWage(wage ? wage : null))\n  }\n\n  function handleUpdateWage(id: string, wage: Partial<Wage>) {\n    dispatch(updateWage({ id: id, wage: wage }))\n    if (wage.date) handleChartDateChange(wage.date)\n  }\n\n  function handleUpdateExpense(id: string, expense: Partial<Expense>) {\n    dispatch(updateExpense({ id: id, expense: expense }))\n    if (expense.date) handleChartDateChange(expense.date);\n  }\n\n  /** Changes the chart date start and end time if the data changes */\n  function handleChartDateChange(newDate: number){\n    if (newDate < startTimeMs) dispatch(setStartTimeMs(newDate));\n    if (newDate > endTimeMs)  dispatch(setEndTimeMs(newDate));\n  }\n\n  function handleRemoveWage(id: string) {\n    dispatch(removeWage({ id: id }))\n  }\n\n  function handleRemoveExpense(id: string) {\n    dispatch(removeExpense({ id: id }))\n  }\n\n  function handleImportExpensesComplete(data: IDataRow[]) {\n    const expensesTimeArr = Object.values(data).map((val) => val.date);\n    const minTime = Math.min(...expensesTimeArr);\n    const maxTime = Math.max(...expensesTimeArr);\n    dispatch(bulkAddExpenses(data));\n    dispatch(setStartTimeMs(Math.min(startTimeMs, minTime)));\n    dispatch(setEndTimeMs(Math.max(endTimeMs, maxTime)));\n  }\n\n  function handleImportWagesComplete(data: IDataRow[]) {\n    const wagesTimeArr = Object.values(data).map((val) => val.date);\n    const minTime = Math.min(...wagesTimeArr);\n    const maxTime = Math.max(...wagesTimeArr);\n    dispatch(bulkAddWages(data));\n    dispatch(setStartTimeMs(Math.min(startTimeMs, minTime)));\n    dispatch(setEndTimeMs(Math.max(endTimeMs, maxTime)));\n  }\n\n  return (\n    <div>\n      <div style={{ textAlign: 'center', minWidth: 700 }}><h1>Financial Planner</h1></div>\n      <div style={{ textAlign: 'center', minWidth: 700 }}>\n        <DataChart></DataChart>\n      </div>\n      <div style={{ textAlign: 'center', minWidth: 700 }}>\n        <DataTable title={\"Income\"} data={wages} addRow={handleCreateWage} updateRow={handleUpdateWage} deleteRow={handleRemoveWage} onImportComplete={handleImportWagesComplete} isExpensesTable={false}></DataTable>\n      </div>\n      <div style={{ textAlign: 'center', minWidth: 700 }}>\n        <DataTable title={\"Expenses\"} data={expenses} addRow={handleCreateExpense} updateRow={handleUpdateExpense} deleteRow={handleRemoveExpense} onImportComplete={handleImportExpensesComplete} isExpensesTable={true}></DataTable>\n      </div>\n      <br></br>\n      <br></br>\n      <br></br>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport expensesReducer from '../slices/expensesSlice';\nimport wagesReducer from '../slices/wagesSlice';\nimport chartReducer from '../slices/chartSlice';\n\nexport const store = configureStore({\n  reducer: {\n    expenses: expensesReducer,\n    wages: wagesReducer,\n    chart: chartReducer,\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}